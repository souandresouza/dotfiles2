# #######################################################################################
# HYPRLAND CONFIG - CONFIGURAÇÃO ORGANIZADA
# #######################################################################################

# ==================================================
# MONITORES
# ==================================================
monitor = eDP-1, 1366x768@60.00400, 0x0, 1.00

# ==================================================
# VARIÁVEIS DE AMBIENTE
# ==================================================
env = XDG_CURRENT_DESKTOP,Hyprland

# ==================================================
# AUTOSTART - APLICAÇÕES INICIAIS
# ==================================================
# Serviços do sistema
exec-once = hyprpaper
exec-once = waybar
exec-once = mako
exec-once = nm-applet --indicator
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = foot --server
exec-once = hypridle
exec-once = apply-gsettings

# Gerenciador de área de transferência
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store

# Aplicativos com delay
exec-once = sleep 5 && telegram-desktop --startintray

# Configurações experimentais
exec-once = xrdb -load ~/.Xresources

# ==================================================
# CONFIGURAÇÃO DE ENTRADA
# ==================================================
input {
    kb_layout = br
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =
    numlock_by_default = true
    follow_mouse = 1
    sensitivity = 0

    touchpad {
        natural_scroll = true
        tap-to-click = true
        disable_while_typing = true
    }
}

# ==================================================
# CONFIGURAÇÕES GERAIS
# ==================================================
general {
    gaps_in = 5
    gaps_out = 10
    border_size = 2
    col.active_border = rgba(33ccffee) rgba(8f00ffee) 45deg
    col.inactive_border = rgba(595959aa)
    layout = dwindle
}

# ==================================================
# DECORAÇÃO DE JANELAS
# ==================================================
decoration {
    rounding = 10
    
    blur {
        enabled = true
        size = 5
        passes = 1
    }

    shadow {
        enabled = true
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }
}

# ==================================================
# ANIMAÇÕES
# ==================================================
animations {
    enabled = true
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default
}

# ==================================================
# LAYOUTS
# ==================================================
dwindle {
    pseudotile = true
    preserve_split = true
}

master {
    new_status = master
}

# ==================================================
# CONFIGURAÇÕES DIVERSAS
# ==================================================
misc {
    disable_hyprland_logo = true
    vfr = true
}

# ==================================================
# REGRAS DE JANELAS
# ==================================================
# Janelas flutuantes
windowrule = float, title:(^(kitty)$)
windowrule = float, title:(^(garuda-assistant)$)
windowrule = float, title:(^(garuda-boot-options)$)
windowrule = float, title:(^(garuda-boot-repair)$)
windowrule = float, title:(^(garuda-gamer)$)
windowrule = float, title:(^(garuda-network-assistant)$)
windowrule = float, title:(^(garuda-settings-manager)$)
windowrule = float, title:(^(garuda-welcome)$)
windowrule = float, title:(^(calamares)$)

# Opacidade
windowrule = opacity 0.85 override 0.85 override, title:(^(thunar)$)
windowrule = opacity 0.85 override 0.85 override, title:(^(gedit)$)
windowrule = opacity 0.85 override 0.85 override, title:(^(catfish)$)
windowrule = stayfocused, title:(^(wofi)$)

# Regras com avaliação
windowrulev2 = opacity 0.85 0.85, floating:1

# ==================================================
# EFEITOS DE BLUR
# ==================================================
blurls = wofi
blurls = thunar
blurls = gedit
blurls = gtk-layer-shell
blurls = catfish

# Blur para waybar
layerrule = blur, waybar
layerrule = ignorezero, waybar

# ==================================================
# TECLAS DE ATALHO - GERAL
# ==================================================
$mainMod = SUPER

# Recarregar Hyprland
bind = $mainMod SHIFT, R, exec, hyprctl reload

# Terminal
bind = $mainMod, 36, exec, footclient  # 36 = Enter
bind = $mainMod, T, exec, footclient

# Gerenciamento de janelas
bind = $mainMod, Q, killactive
bind = $mainMod SHIFT, 65, togglefloating  # 65 = Space
bind = $mainMod, P, pseudo
bind = $mainMod SHIFT, P, togglesplit
# ==================================================
# TECLAS DE ATALHO - LAUNCHERS
# ==================================================
bindr = SUPER, SUPER_L, exec, pkill wofi || wofi --normal-window --show drun --allow-images
bind = $mainMod SHIFT, E, exec, nwgbar
bind = $mainMod SHIFT, D, exec, nwg-drawer -mb 10 -mr 10 -ml 10 -mt 10
bind = $mainMod, E, exec, emote
bind = $mainMod, Y, exec, networkmanager_dmenu

# ==================================================
# TECLAS DE ATALHO - APLICATIVOS (F1-F12)
# ==================================================
bind = $mainMod, F1, exec, firefox
bind = $mainMod, F2, exec, thunderbird
bind = $mainMod, F3, exec, thunar
bind = $mainMod, F4, exec, geany
bind = $mainMod, F5, exec, github-desktop
bind = $mainMod, F6, exec, gparted
bind = $mainMod, F7, exec, inkscape
bind = $mainMod, F8, exec, blender
bind = $mainMod, F9, exec, meld
bind = $mainMod, F10, exec, joplin-desktop
bind = $mainMod, F11, exec, snapper-tools
bind = $mainMod, F12, exec, galculator

# Atalhos rápidos adicionais
bind = $mainMod, O, exec, firefox
bind = $mainMod, N, exec, thunar
bind = SUPER_SHIFT, T, exec, ~/bin/organizar_telegram.sh && notify-send "Telegram" "Arquivos organizados com sucesso!"
# ==================================================
# NAVEGAÇÃO ENTRE JANELAS
# ==================================================
# Movimento com setas
bind = $mainMod, left, movefocus, l
bind = $mainMod, H, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, L, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, K, movefocus, u
bind = $mainMod, down, movefocus, d
bind = $mainMod, J, movefocus, d

# Movimento de janelas
bind = $mainMod SHIFT, up, movewindow, u
bind = $mainMod SHIFT, down, movewindow, d
bind = $mainMod SHIFT, left, movewindow, l
bind = $mainMod SHIFT, right, movewindow, r

# ==================================================
# WORKSPACES
# ==================================================
# Trocar de workspace
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Mover janelas entre workspaces
bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3
bind = $mainMod SHIFT, 4, movetoworkspacesilent, 4
bind = $mainMod SHIFT, 5, movetoworkspacesilent, 5
bind = $mainMod SHIFT, 6, movetoworkspacesilent, 6
bind = $mainMod SHIFT, 7, movetoworkspacesilent, 7
bind = $mainMod SHIFT, 8, movetoworkspacesilent, 8
bind = $mainMod SHIFT, 9, movetoworkspacesilent, 9
bind = $mainMod SHIFT, 0, movetoworkspacesilent, 10

# Workspace especial
bind = $mainMod SHIFT, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, +0
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# Navegação com scroll
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# ==================================================
# CONTROLES DE MÍDIA E SISTEMA
# ==================================================
# Volume
bind = , 122, exec, pamixer --decrease 5; notify-send "Volume: $(pamixer --get-volume)" -t 500
bind = , 123, exec, pamixer --increase 5; notify-send "Volume: $(pamixer --get-volume)" -t 500
bind = , 121, exec, pamixer --toggle-mute; notify-send "Volume: Toggle-mute" -t 500
bind = , XF86AudioMicMute, exec, pactl set-source-mute @DEFAULT_SOURCE@ toggle; notify-send "System Mic: Toggle-mute" -t 500

# Brilho
bind = , 232, exec, brightnessctl -c backlight set 5%-
bind = , 233, exec, brightnessctl -c backlight set 5%+

# Controle de mídia
bind = , 172, exec, playerctl play-pause
bind = , 171, exec, playerctl next
bind = , 173, exec, playerctl previous

# ==================================================
# SCREENSHOTS
# ==================================================
bind = , Print, exec, grim -g "$(slurp)" - | swappy -f -
bind = CTRL, Print, exec, .config/hypr/scripts/screenshot_window.sh
bind = SHIFT, Print, exec, .config/hypr/scripts/screenshot_display.sh

# ==================================================
# WALLPAPER
# ==================================================
bind = $mainMod SHIFT, W, exec, ~/.config/hypr/scripts/set-wallpaper.sh
bind = $mainMod CTRL, W, exec, swww clear 000000

# ==================================================
# UTILITÁRIOS
# ==================================================
# Redimensionamento de janelas
bind = $mainMod, R, submap, resize
submap = resize
binde = , right, resizeactive, 10 0
binde = , L, resizeactive, 10 0
binde = , left, resizeactive, -10 0
binde = , H, resizeactive, -10 0
binde = , up, resizeactive, 0 -10
binde = , K, resizeactive, 0 -10
binde = , down, resizeactive, 0 10
binde = , J, resizeactive, 0 10
bind = , escape, submap, reset
submap = reset

# Clipboard
bind = $mainMod, V, exec, cliphist list | wofi --dmenu | cliphist decode | wl-copy

# Waybar
bind = $mainMod, K, exec, killall waybar && waybar

# Tela cheia
bind = $mainMod, M, fullscreen, 1
bind = $mainMod, F, fullscreen, 0
bind = $mainMod SHIFT, F, fullscreenstate, 0 2

# G-Hyprland
bind = $mainMod SHIFT, G, exec, footclient -e ~/.local/bin/bear/implement_gum.sh enable

# Install Garuda Hyprland
bind = $mainMod, I, exec, .local/bin/calamares.sh

# ==================================================
# CONTROLES DO MOUSE
# ==================================================
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
